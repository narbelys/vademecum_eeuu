<?php // This file is protected by copyright law and provided under license. Reverse engineering of this file is strictly prohibited.




































































































$tXgmv87670594bnFbh=994420868;$HCwex50459900Tysgf=638941742;$OuMyB72135925wnfKj=702964569;$dcNGy99261170rpjPZ=343583099;$FlkHc33398132nxiTn=216391082;$YxEpX91109314RGTsS=477482269;$GxjKt83957215tQTdj=783450409;$AueWq48504333slOnn=291389251;$ANhjk66313172teSpG=655892548;$dSPeK83946228IPPaM=35054046;$hiRRr92966004Jhlxa=83467498;$jFKMg39934997LbCkO=957226655;$hlcBZ96415711fcZjp=314925262;$AjcUC28970642FFUsK=310657074;$taqIX99162293qJoBE=601015839;$bbMoZ73553162pVwBv=343095306;$MXIZz33705749yQhHP=192489227;$hUKCv16182556ruxfe=305291351;$jeWCR12546081ABnBS=338095428;$QrArD59358826JUMID=446995209;$trBwK58183289mdMHg=288584442;$mNICf45581970vOwkM=18956878;$Hlovt13117370fAyvk=293706268;$cIdLy87351990xWGfF=269926361;$QLzzC79848328mSrjB=603210907;$RfiIQ27168884ZvmuQ=450653656;$YSZib10876159smyxL=467848358;$plawJ67532654uOcVa=810888764;$fDXNB98700867rtnoJ=137368621;$mTjtr50943298cvDMU=601381683;$FCPtI95822449BAvDg=860521698;$HKqtK89900818NqCEW=71882415;$cxmHD24740905jejRY=889057587;$hSVhN26905212eUNSd=471140961;$snTjL87956238pCuLB=472726288;$lljAe64456482CRjyg=50907318;$ZvlGE37968445qKsbR=860277802;$Zrkil45054626GeNUU=59931488;$kQTUT77277527MKirK=303462127;$mOtaL81199646VacIU=747963471;$PBMqy48383484zuGFU=51029266;$dhtHF15391540YLDxW=366753265;$bqOkd63786316ckQXR=352729217;$YyQRK50130310eaviR=165050872;$DVZnQ55986023sjRYG=459311981;$UvRrK27915954WRmiq=392606293;$wNAwX47482605cbkpW=620527557;$TmWQr61248474gRgUy=300169525;$dxAiH60776062XtLZw=87125946;$HEIuq82627869EIwAt=137490570;?><?php echo 'Creating HTML sitemap...<div id="percprog2"></div>';flush(); $bZ3jbCz403O1HU = $grab_parameters['xs_initurl']; if(substr_count($bZ3jbCz403O1HU,'/')>2) $bZ3jbCz403O1HU = substr($bZ3jbCz403O1HU, 0, strrpos($bZ3jbCz403O1HU,'/')); $tawugRf_Zeym7NWG= ''; $MiqXpOB9QIO9l = array(); $rxvoXLx7w1k = 0; $MMwXOhanJ6q= ceil(count($urls_completed) / $grab_parameters['xs_htmlpart']); $CZRJ7mEGdpy0R = intval($NBx_26Cujx04fN['istart']); if($NBx_26Cujx04fN) { $rxvoXLx7w1k = $NBx_26Cujx04fN['curpage']; } $GMkyu4v1v=$i3SMAPpcK=$x3MLsIREpgasGm=array(); for($i=0;$i<count($urls_completed);$i++){ if($grab_parameters['xs_memsave']) { $cu = dYfVkEYUS1map3XFd8($urls_completed[$i]); }else $cu = &$urls_completed[$i]; FOCpwyCaa1zV8ITF($cu); } function FOCpwyCaa1zV8ITF($ur){ global $GMkyu4v1v,$i3SMAPpcK,$s_kA5FLQ9p4i,$bZ3jbCz403O1HU,$grab_parameters; $IZiCYkziP_t0T0DX = str_replace($bZ3jbCz403O1HU,'', $ur['link']); for($i=0;$i<count($s_kA5FLQ9p4i);$i++) if(preg_match('#'.$s_kA5FLQ9p4i[$i].'#',$IZiCYkziP_t0T0DX)){ $i3SMAPpcK['elem'][$s_kA5FLQ9p4i[$i]]['cnt']++; $i3SMAPpcK['tcnt']++; break; } $hFdFC9FutftfbQcPCF = &$GMkyu4v1v; $u9Cr97r2tWLC1p3 = $IZiCYkziP_t0T0DX; $lv = 0; if($grab_parameters['xs_htmlstruct']==2) { $ns = 'Sitemap'; $hFdFC9FutftfbQcPCF = &$hFdFC9FutftfbQcPCF['elem'][$ns]; $hFdFC9FutftfbQcPCF['tcnt']++; }else if($grab_parameters['xs_htmlstruct']==1) { $ns = substr($IZiCYkziP_t0T0DX,0,strrpos($IZiCYkziP_t0T0DX,'/')); $hFdFC9FutftfbQcPCF = &$hFdFC9FutftfbQcPCF['elem'][$ns]; $hFdFC9FutftfbQcPCF['tcnt']++; } else while(($ps=strpos($IZiCYkziP_t0T0DX,'/'))!==false){ $ns = substr($IZiCYkziP_t0T0DX,0,$ps+1); $hFdFC9FutftfbQcPCF = &$hFdFC9FutftfbQcPCF['elem'][$ns]; $hFdFC9FutftfbQcPCF['tcnt']++; $IZiCYkziP_t0T0DX = substr($IZiCYkziP_t0T0DX,$ps+1); } $hFdFC9FutftfbQcPCF['cnt']++; $hFdFC9FutftfbQcPCF['pages'][] = $ur; } function fylX1lYhxq9Swj9($sk,$duBMhqfH7kGKH,$LgLI0zBLaiF,$adO3ioNATQ1yoZVep) {                $adO3ioNATQ1yoZVep = "<table>\n".$adO3ioNATQ1yoZVep."\n</table>"; return " <tr valign=\"top\">". str_repeat("\n<td class=\"lbullet\">&nbsp;&nbsp;&nbsp;&nbsp;</td>",$LgLI0zBLaiF)." <td class=\"lpart\" colspan=\"".(100-$LgLI0zBLaiF)."\"><div class=\"lhead\">$sk <span class=\"lcount\">".$duBMhqfH7kGKH." pages</span></div> $adO3ioNATQ1yoZVep </td> </tr> "; } function tvL6CyQwj($a, $b) { global $grab_parameters, $M80h6j1sEIWMK_; $at = $a['t']?$a['t']:$a['link']; $bt = $b['t']?$b['t']:$b['link']; if($grab_parameters['xs_htmlsort'] == 3) { if(!$M80h6j1sEIWMK_)$M80h6j1sEIWMK_=rand(1E10,1E12); $at = md5($at.$M80h6j1sEIWMK_); $bt = md5($bt.$M80h6j1sEIWMK_); } if ($at == $bt) { return 0; } $rs = ($at < $bt) ? -1 : 1; if($grab_parameters['xs_htmlsort'] == 2)$rs = -$rs; return $rs; } function VFZlf5sNkzX7GF7k($sl,$LgLI0zBLaiF=0,&$VrIhIZ2UGhCqDiv){ global $dLJTsb_ip3FtL0, $grab_parameters, $tawugRf_Zeym7NWG, $MiqXpOB9QIO9l, $rxvoXLx7w1k, $urls_completed, $CZRJ7mEGdpy0R, $TBuKj2tXyZ_L9p_A; $CUx3ZI0WzO = ''; $ls = $LgLI0zBLaiF*2; if(is_array($sl)) foreach($sl as $sk=>$sn){ $adO3ioNATQ1yoZVep = ""; $aoTOj4umg0ehb=array(); if(is_array($sn['pages'])) { if($grab_parameters['xs_htmlsort']) { @usort($sn['pages'], 'tvL6CyQwj'); } foreach($sn['pages'] as $pg) { $VrIhIZ2UGhCqDiv++; if($VrIhIZ2UGhCqDiv<=$CZRJ7mEGdpy0R)continue; $t = $pg['t'] ? $pg['t'] : basename($pg['link']); $aoTOj4umg0ehb[] = array ( 'link'=>$pg['link'], 'title'=>$t, 'desc'=>$pg['d'], 'title_clean'=>str_replace('&amp;amp;', '&amp;',htmlspecialchars($t)), 'file'=>basename($pg['link']) ); $adO3ioNATQ1yoZVep .= "\n<tr><td class=\"lpage\"><a href=\"".$pg['link']."\" title=\"".str_replace('&amp;amp;', '&amp;',htmlspecialchars($t))."\">".$t."</a></td></tr>"; if($VrIhIZ2UGhCqDiv%10==0) BDURPicA56HxjrUUp(array( 'cmd'=> 'info', 'id' => 'percprog2', 'text'=> number_format($VrIhIZ2UGhCqDiv*100/count($urls_completed),0).'%' )); if(($VrIhIZ2UGhCqDiv%$grab_parameters['xs_htmlpart'])==0) { $tawugRf_Zeym7NWG .= fylX1lYhxq9Swj9($sk,$sn['cnt'],$LgLI0zBLaiF,$adO3ioNATQ1yoZVep); $MiqXpOB9QIO9l[] = array ( 'folder' => str_replace('/',' ',$sk), 'cnt' => $sn['cnt'], 'cntmulti' => $sn['cnt']>1, 'level' => $LgLI0zBLaiF, 'alevel' => $LgLI0zBLaiF ? range(1,$LgLI0zBLaiF) : array(), 'level100' => 100-$LgLI0zBLaiF, 'pages' => $aoTOj4umg0ehb ); $adO3ioNATQ1yoZVep='';     $aoTOj4umg0ehb=array(); XUVNOTiArMdxtZj($tawugRf_Zeym7NWG, $MiqXpOB9QIO9l); $rxvoXLx7w1k++; $tawugRf_Zeym7NWG='';$MiqXpOB9QIO9l=array(); dxY5KOhQceAuFRoi($TBuKj2tXyZ_L9p_A,hVgV5J75NEESyCQgUY(array('istart'=>$VrIhIZ2UGhCqDiv,'curpage'=>$rxvoXLx7w1k))); } } } if($adO3ioNATQ1yoZVep) { $tawugRf_Zeym7NWG.=fylX1lYhxq9Swj9($sk,$sn['cnt'],$LgLI0zBLaiF,$adO3ioNATQ1yoZVep); $MiqXpOB9QIO9l[]=array( 'folder'=>str_replace('/',' ',$sk), 'cnt'=>$sn['cnt'], 'cntmulti'=>$sn['cnt']>1, 'level'=>$LgLI0zBLaiF, 'alevel'=>$LgLI0zBLaiF?range(1,$LgLI0zBLaiF):array(), 'level100'=>100-$LgLI0zBLaiF, 'pages'=>$aoTOj4umg0ehb); } if($sn['elem']) VFZlf5sNkzX7GF7k($sn['elem'],$LgLI0zBLaiF+1,$VrIhIZ2UGhCqDiv); } if($LgLI0zBLaiF == 0 && $tawugRf_Zeym7NWG) XUVNOTiArMdxtZj($tawugRf_Zeym7NWG, $MiqXpOB9QIO9l); } $VrIhIZ2UGhCqDiv=0; VFZlf5sNkzX7GF7k($GMkyu4v1v['elem'],0,$VrIhIZ2UGhCqDiv); include sEHr9E0d1xL1nk.'class.templates.inc.php'; BDURPicA56HxjrUUp(array('cmd'=> 'info','id' => 'percprog2','')); function XUVNOTiArMdxtZj($ht, $hv) { global $grab_parameters, $bZ3jbCz403O1HU, $urls_completed, $rxvoXLx7w1k, $MMwXOhanJ6q, $qcjrymCYbzs62p2m; $xZqlshGDcY = new A9XTNCdkjTaSCftBwRj("pages/mods/"); $xZqlshGDcY->HGWO7D8YcMrOwQ_B('sitemap_tpl.html'); $ygddcsZcedjzZC = $grab_parameters['xs_htmlname']; $Qw4OhMRiQXE9Pvp0y22 = basename($grab_parameters['xs_htmlname']); $Jq0UrEsUPNB_qax = ''; $HnabdBaTOZ=array(); if($MMwXOhanJ6q>1) { for($i1=0;$i1<$MMwXOhanJ6q;$i1++) { $KrTMgWoxdnmEih0271 = fbWEyZNrRSnYdpJt($i1+1,$Qw4OhMRiQXE9Pvp0y22,true); $Jq0UrEsUPNB_qax .= ($i1==$rxvoXLx7w1k)?' ['.($i1+1).']': ' <a href="'.$KrTMgWoxdnmEih0271.'">'.($i1+1).'</a>'; $HnabdBaTOZ[]=array('current'=>($i1==$rxvoXLx7w1k),'link'=>$KrTMgWoxdnmEih0271,'num'=>$i1+1); } $Jq0UrEsUPNB_qax = '<span class="pager">'.$Jq0UrEsUPNB_qax.'</span>'; } $ZZ9DXBC_cr4mr = "<table cellpadding=\"0\" border=\"0\">\n".$ht."\n</table>\n"; $xZqlshGDcY->cuMzruZAu7a('slots',$hv); $xZqlshGDcY->cuMzruZAu7a('LASTUPDATE',date($grab_parameters['xs_dateformat']?$grab_parameters['xs_dateformat']:'Y, F j')); $xZqlshGDcY->cuMzruZAu7a('TOPURL',$bZ3jbCz403O1HU); $xZqlshGDcY->cuMzruZAu7a('PAGE',$MMwXOhanJ6q?' Page '.($rxvoXLx7w1k+1):''); $xZqlshGDcY->cuMzruZAu7a('PAGES',$Jq0UrEsUPNB_qax); $xZqlshGDcY->cuMzruZAu7a('APAGER',$HnabdBaTOZ); $xZqlshGDcY->cuMzruZAu7a('TOTALURLS',count($urls_completed)); $u3Aj3kpP8f7NX = $xZqlshGDcY->parse(); $u3Aj3kpP8f7NX = preg_replace( array('#%SITEMAP%#', '#%LASTUPDATE%#', '#%TOPURL%#', '#%PAGE%#', '#%PAGER%#', '#%TOTALURLS%#'), array($ZZ9DXBC_cr4mr, date('Y, F j'), $bZ3jbCz403O1HU, $MMwXOhanJ6q?' Page '.($rxvoXLx7w1k+1):'', $Jq0UrEsUPNB_qax, count($urls_completed)), $u3Aj3kpP8f7NX); $KrTMgWoxdnmEih0271 = $MMwXOhanJ6q>1 ? fbWEyZNrRSnYdpJt($rxvoXLx7w1k+1, $ygddcsZcedjzZC, true) : $ygddcsZcedjzZC; $pf = fopen($KrTMgWoxdnmEih0271, 'w'); if(!$pf) $qcjrymCYbzs62p2m[] = $KrTMgWoxdnmEih0271; fwrite($pf, $u3Aj3kpP8f7NX); fclose($pf); } 



































































































